<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual documents Guile version 2.0.11.

Copyright (C) 1996, 1997, 2000, 2001, 2002, 2003, 2004, 2005, 2009,
2010, 2011, 2012, 2013, 2014 Free Software Foundation.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Guile Reference Manual: texinfo docbook</title>

<meta name="description" content="Guile Reference Manual: texinfo docbook">
<meta name="keywords" content="Guile Reference Manual: texinfo docbook">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Texinfo-Processing.html#Texinfo-Processing" rel="up" title="Texinfo Processing">
<link href="texinfo-html.html#texinfo-html" rel="next" title="texinfo html">
<link href="texinfo.html#texinfo" rel="prev" title="texinfo">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="texinfo-docbook"></a>
<div class="header">
<p>
Next: <a href="texinfo-html.html#texinfo-html" accesskey="n" rel="next">texinfo html</a>, Previous: <a href="texinfo.html#texinfo" accesskey="p" rel="prev">texinfo</a>, Up: <a href="Texinfo-Processing.html#Texinfo-Processing" accesskey="u" rel="up">Texinfo Processing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="g_t_0028texinfo-docbook_0029"></a>
<h4 class="subsection">7.23.2 (texinfo docbook)</h4>
<a name="Overview-6"></a>
<h4 class="subsubsection">7.23.2.1 Overview</h4>
<p>This module exports procedures for transforming a limited subset of the
SXML representation of docbook into stexi. It is not complete by any
means. The intention is to gather a number of routines and stylesheets
so that external modules can parse specific subsets of docbook, for
example that set generated by certain tools.
</p>
<a name="Usage-8"></a>
<h4 class="subsubsection">7.23.2.2 Usage</h4>
<a name="texinfo-docbook-_002asdocbook_002d_003estexi_002drules_002a"></a><dl>
<dt><a name="index-_002asdocbook_002d_003estexi_002drules_002a"></a>Variable: <strong>*sdocbook-&gt;stexi-rules*</strong></dt>
</dl>

<a name="texinfo-docbook-_002asdocbook_002dblock_002dcommands_002a"></a><dl>
<dt><a name="index-_002asdocbook_002dblock_002dcommands_002a"></a>Variable: <strong>*sdocbook-block-commands*</strong></dt>
</dl>

<a name="texinfo-docbook-sdocbook_002dflatten"></a><dl>
<dt><a name="index-sdocbook_002dflatten"></a>Function: <strong>sdocbook-flatten</strong> <em>sdocbook</em></dt>
<dd><p>&quot;Flatten&quot; a fragment of sdocbook so that block elements do not nest
inside each other.
</p>
<p>Docbook is a nested format, where e.g. a <code>refsect2</code> normally
appears inside a <code>refsect1</code>. Logical divisions in the document are
represented via the tree topology; a <code>refsect2</code> element
<em>contains</em> all of the elements in its section.
</p>
<p>On the contrary, texinfo is a flat format, in which sections are marked
off by standalone section headers like <code>@subsection</code>, and block
elements do not nest inside each other.
</p>
<p>This function takes a nested sdocbook fragment <var>sdocbook</var> and
flattens all of the sections, such that e.g.
</p>
<div class="example">
<pre class="example"> (refsect1 (refsect2 (para &quot;Hello&quot;)))
</pre></div>

<p>becomes
</p>
<div class="example">
<pre class="example"> ((refsect1) (refsect2) (para &quot;Hello&quot;))
</pre></div>

<p>Oftentimes (always?) sectioning elements have <code>&lt;title&gt;</code> as their
first element child; users interested in processing the <code>refsect*</code>
elements into proper sectioning elements like <code>chapter</code> might be
interested in <code>replace-titles</code> and <code>filter-empty-elements</code>.
See <a href="#texinfo-docbook-replace_002dtitles">replace-titles</a>, and <a href="#texinfo-docbook-filter_002dempty_002delements">filter-empty-elements</a>.
</p>
<p>Returns a nodeset; that is to say, an untagged list of stexi elements.
See <a href="SXPath.html#SXPath">SXPath</a>, for the definition of a nodeset.
</p>
</dd></dl>

<a name="texinfo-docbook-filter_002dempty_002delements"></a><dl>
<dt><a name="index-filter_002dempty_002delements"></a>Function: <strong>filter-empty-elements</strong> <em>sdocbook</em></dt>
<dd><p>Filters out empty elements in an sdocbook nodeset. Mostly useful after
running <code>sdocbook-flatten</code>.
</p>
</dd></dl>

<a name="texinfo-docbook-replace_002dtitles"></a><dl>
<dt><a name="index-replace_002dtitles"></a>Function: <strong>replace-titles</strong> <em>sdocbook-fragment</em></dt>
<dd><p>Iterate over the sdocbook nodeset <var>sdocbook-fragment</var>, transforming
contiguous <code>refsect</code> and <code>title</code> elements into the appropriate
texinfo sectioning command. Most useful after having run
<code>sdocbook-flatten</code>.
</p>
<p>For example:
</p>
<div class="example">
<pre class="example"> (replace-titles '((refsect1) (title &quot;Foo&quot;) (para &quot;Bar.&quot;)))
    &rArr; '((chapter &quot;Foo&quot;) (para &quot;Bar.&quot;))
</pre></div>

</dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="texinfo-html.html#texinfo-html" accesskey="n" rel="next">texinfo html</a>, Previous: <a href="texinfo.html#texinfo" accesskey="p" rel="prev">texinfo</a>, Up: <a href="Texinfo-Processing.html#Texinfo-Processing" accesskey="u" rel="up">Texinfo Processing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
