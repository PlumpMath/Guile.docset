<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual documents Guile version 2.0.11.

Copyright (C) 1996, 1997, 2000, 2001, 2002, 2003, 2004, 2005, 2009,
2010, 2011, 2012, 2013, 2014 Free Software Foundation.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Guile Reference Manual: Accessing Locale Information</title>

<meta name="description" content="Guile Reference Manual: Accessing Locale Information">
<meta name="keywords" content="Guile Reference Manual: Accessing Locale Information">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Concept-Index.html#Concept-Index" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Internationalization.html#Internationalization" rel="up" title="Internationalization">
<link href="Gettext-Support.html#Gettext-Support" rel="next" title="Gettext Support">
<link href="Number-Input-and-Output.html#Number-Input-and-Output" rel="prev" title="Number Input and Output">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Accessing-Locale-Information"></a>
<div class="header">
<p>
Next: <a href="Gettext-Support.html#Gettext-Support" accesskey="n" rel="next">Gettext Support</a>, Previous: <a href="Number-Input-and-Output.html#Number-Input-and-Output" accesskey="p" rel="prev">Number Input and Output</a>, Up: <a href="Internationalization.html#Internationalization" accesskey="u" rel="up">Internationalization</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Accessing-Locale-Information-1"></a>
<h4 class="subsection">6.24.5 Accessing Locale Information</h4>

<a name="index-nl_005flanginfo"></a>
<a name="index-low_002dlevel-locale-information"></a>
<p>It is sometimes useful to obtain very specific information about a
locale such as the word it uses for days or months, its format for
representing floating-point figures, etc.  The <code>(ice-9 i18n)</code>
module provides support for this in a way that is similar to the libc
functions <code>nl_langinfo ()</code> and <code>localeconv ()</code>
(see <a href="http://www.gnu.org/software/libc/manual/html_node/Locale-Information.html#Locale-Information">accessing locale information from C</a> in <cite>The GNU C Library Reference Manual</cite>).  The available functions
are listed below.
</p>
<dl>
<dt><a name="index-locale_002dencoding"></a>Scheme Procedure: <strong>locale-encoding</strong> <em>[locale]</em></dt>
<dd><p>Return the name of the encoding (a string whose interpretation is
system-dependent) of either <var>locale</var> or the current locale.
</p></dd></dl>

<p>The following functions deal with dates and times.
</p>
<dl>
<dt><a name="index-locale_002dday"></a>Scheme Procedure: <strong>locale-day</strong> <em>day [locale]</em></dt>
<dt><a name="index-locale_002dday_002dshort"></a>Scheme Procedure: <strong>locale-day-short</strong> <em>day [locale]</em></dt>
<dt><a name="index-locale_002dmonth"></a>Scheme Procedure: <strong>locale-month</strong> <em>month [locale]</em></dt>
<dt><a name="index-locale_002dmonth_002dshort"></a>Scheme Procedure: <strong>locale-month-short</strong> <em>month [locale]</em></dt>
<dd><p>Return the word (a string) used in either <var>locale</var> or the current
locale to name the day (or month) denoted by <var>day</var> (or
<var>month</var>), an integer between 1 and 7 (or 1 and 12).  The
<code>-short</code> variants provide an abbreviation instead of a full name.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dam_002dstring"></a>Scheme Procedure: <strong>locale-am-string</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dpm_002dstring"></a>Scheme Procedure: <strong>locale-pm-string</strong> <em>[locale]</em></dt>
<dd><p>Return a (potentially empty) string that is used to denote <i>ante
meridiem</i> (or <i>post meridiem</i>) hours in 12-hour format.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002ddate_002btime_002dformat"></a>Scheme Procedure: <strong>locale-date+time-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002ddate_002dformat"></a>Scheme Procedure: <strong>locale-date-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dtime_002dformat"></a>Scheme Procedure: <strong>locale-time-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dtime_002bam_002fpm_002dformat"></a>Scheme Procedure: <strong>locale-time+am/pm-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dera_002ddate_002dformat"></a>Scheme Procedure: <strong>locale-era-date-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dera_002ddate_002btime_002dformat"></a>Scheme Procedure: <strong>locale-era-date+time-format</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dera_002dtime_002dformat"></a>Scheme Procedure: <strong>locale-era-time-format</strong> <em>[locale]</em></dt>
<dd><p>These procedures return format strings suitable to <code>strftime</code>
(see <a href="Time.html#Time">Time</a>) that may be used to display (part of) a date/time
according to certain constraints and to the conventions of either
<var>locale</var> or the current locale (see <a href="http://www.gnu.org/software/libc/manual/html_node/The-Elegant-and-Fast-Way.html#The-Elegant-and-Fast-Way">the <code>nl_langinfo ()</code> items</a> in <cite>The GNU C Library Reference
Manual</cite>).
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dera"></a>Scheme Procedure: <strong>locale-era</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dera_002dyear"></a>Scheme Procedure: <strong>locale-era-year</strong> <em>[locale]</em></dt>
<dd><p>These functions return, respectively, the era and the year of the
relevant era used in <var>locale</var> or the current locale.  Most locales
do not define this value.  In this case, the empty string is returned.
An example of a locale that does define this value is the Japanese
one.
</p></dd></dl>

<p>The following procedures give information about number representation.
</p>
<dl>
<dt><a name="index-locale_002ddecimal_002dpoint"></a>Scheme Procedure: <strong>locale-decimal-point</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dthousands_002dseparator"></a>Scheme Procedure: <strong>locale-thousands-separator</strong> <em>[locale]</em></dt>
<dd><p>These functions return a string denoting the representation of the
decimal point or that of the thousand separator (respectively) for
either <var>locale</var> or the current locale.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002ddigit_002dgrouping"></a>Scheme Procedure: <strong>locale-digit-grouping</strong> <em>[locale]</em></dt>
<dd><p>Return a (potentially circular) list of integers denoting how digits
of the integer part of a number are to be grouped, starting at the
decimal point and going to the left.  The list contains integers
indicating the size of the successive groups, from right to left.  If
the list is non-circular, then no grouping occurs for digits beyond
the last group.
</p>
<p>For instance, if the returned list is a circular list that contains
only <code>3</code> and the thousand separator is <code>&quot;,&quot;</code> (as is the case
with English locales), then the number <code>12345678</code> should be
printed <code>12,345,678</code>.
</p></dd></dl>

<p>The following procedures deal with the representation of monetary
amounts.  Some of them take an additional <var>intl?</var> argument (a
boolean) that tells whether the international or local monetary
conventions for the given locale are to be used.
</p>
<dl>
<dt><a name="index-locale_002dmonetary_002ddecimal_002dpoint"></a>Scheme Procedure: <strong>locale-monetary-decimal-point</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dmonetary_002dthousands_002dseparator"></a>Scheme Procedure: <strong>locale-monetary-thousands-separator</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dmonetary_002dgrouping"></a>Scheme Procedure: <strong>locale-monetary-grouping</strong> <em>[locale]</em></dt>
<dd><p>These are the monetary counterparts of the above procedures.  These
procedures apply to monetary amounts.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dcurrency_002dsymbol"></a>Scheme Procedure: <strong>locale-currency-symbol</strong> <em>intl? [locale]</em></dt>
<dd><p>Return the currency symbol (a string) of either <var>locale</var> or the
current locale.
</p>
<p>The following example illustrates the difference between the local and
international monetary formats:
</p>
<div class="example">
<pre class="example">(define us (make-locale LC_MONETARY &quot;en_US&quot;))
(locale-currency-symbol #f us)
&rArr; &quot;-$&quot;
(locale-currency-symbol #t us)
&rArr; &quot;USD &quot;
</pre></div>
</dd></dl>

<dl>
<dt><a name="index-locale_002dmonetary_002dfractional_002ddigits"></a>Scheme Procedure: <strong>locale-monetary-fractional-digits</strong> <em>intl? [locale]</em></dt>
<dd><p>Return the number of fractional digits to be used when printing
monetary amounts according to either <var>locale</var> or the current
locale.  If the locale does not specify it, then <code>#f</code> is
returned.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dcurrency_002dsymbol_002dprecedes_002dpositive_003f"></a>Scheme Procedure: <strong>locale-currency-symbol-precedes-positive?</strong> <em>intl? [locale]</em></dt>
<dt><a name="index-locale_002dcurrency_002dsymbol_002dprecedes_002dnegative_003f"></a>Scheme Procedure: <strong>locale-currency-symbol-precedes-negative?</strong> <em>intl? [locale]</em></dt>
<dt><a name="index-locale_002dpositive_002dseparated_002dby_002dspace_003f"></a>Scheme Procedure: <strong>locale-positive-separated-by-space?</strong> <em>intl? [locale]</em></dt>
<dt><a name="index-locale_002dnegative_002dseparated_002dby_002dspace_003f"></a>Scheme Procedure: <strong>locale-negative-separated-by-space?</strong> <em>intl? [locale]</em></dt>
<dd><p>These procedures return a boolean indicating whether the currency
symbol should precede a positive/negative number, and whether a
whitespace should be inserted between the currency symbol and a
positive/negative amount.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dmonetary_002dpositive_002dsign"></a>Scheme Procedure: <strong>locale-monetary-positive-sign</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dmonetary_002dnegative_002dsign"></a>Scheme Procedure: <strong>locale-monetary-negative-sign</strong> <em>[locale]</em></dt>
<dd><p>Return a string denoting the positive (respectively negative) sign
that should be used when printing a monetary amount.
</p></dd></dl>

<dl>
<dt><a name="index-locale_002dpositive_002dsign_002dposition"></a>Scheme Procedure: <strong>locale-positive-sign-position</strong></dt>
<dt><a name="index-locale_002dnegative_002dsign_002dposition"></a>Scheme Procedure: <strong>locale-negative-sign-position</strong></dt>
<dd><p>These functions return a symbol telling where a sign of a
positive/negative monetary amount is to appear when printing it.  The
possible values are:
</p>
<dl compact="compact">
<dt><code>parenthesize</code></dt>
<dd><p>The currency symbol and quantity should be surrounded by parentheses.
</p></dd>
<dt><code>sign-before</code></dt>
<dd><p>Print the sign string before the quantity and currency symbol.
</p></dd>
<dt><code>sign-after</code></dt>
<dd><p>Print the sign string after the quantity and currency symbol.
</p></dd>
<dt><code>sign-before-currency-symbol</code></dt>
<dd><p>Print the sign string right before the currency symbol.
</p></dd>
<dt><code>sign-after-currency-symbol</code></dt>
<dd><p>Print the sign string right after the currency symbol.
</p></dd>
<dt><code>unspecified</code></dt>
<dd><p>Unspecified.  We recommend you print the sign after the currency
symbol.
</p></dd>
</dl>

</dd></dl>

<p>Finally, the two following procedures may be helpful when programming
user interfaces:
</p>
<dl>
<dt><a name="index-locale_002dyes_002dregexp"></a>Scheme Procedure: <strong>locale-yes-regexp</strong> <em>[locale]</em></dt>
<dt><a name="index-locale_002dno_002dregexp"></a>Scheme Procedure: <strong>locale-no-regexp</strong> <em>[locale]</em></dt>
<dd><p>Return a string that can be used as a regular expression to recognize
a positive (respectively, negative) response to a yes/no question.
For the C locale, the default values are typically <code>&quot;^[yY]&quot;</code> and
<code>&quot;^[nN]&quot;</code>, respectively.
</p>
<p>Here is an example:
</p>
<div class="example">
<pre class="example">(use-modules (ice-9 rdelim))
(format #t &quot;Does Guile rock?~%&quot;)
(let lp ((answer (read-line)))
  (cond ((string-match (locale-yes-regexp) answer)
         (format #t &quot;High fives!~%&quot;))
        ((string-match (locale-no-regexp) answer)
         (format #t &quot;How about now? Does it rock yet?~%&quot;)
         (lp (read-line)))
        (else
         (format #t &quot;What do you mean?~%&quot;)
         (lp (read-line)))))
</pre></div>

<p>For an internationalized yes/no string output, <code>gettext</code> should
be used (see <a href="Gettext-Support.html#Gettext-Support">Gettext Support</a>).
</p></dd></dl>

<p>Example uses of some of these functions are the implementation of the
<code>number-&gt;locale-string</code> and <code>monetary-amount-&gt;locale-string</code>
procedures (see <a href="Number-Input-and-Output.html#Number-Input-and-Output">Number Input and Output</a>), as well as that the
SRFI-19 date and time conversion to/from strings (see <a href="SRFI_002d19.html#SRFI_002d19">SRFI-19</a>).
</p>

<hr>
<div class="header">
<p>
Next: <a href="Gettext-Support.html#Gettext-Support" accesskey="n" rel="next">Gettext Support</a>, Previous: <a href="Number-Input-and-Output.html#Number-Input-and-Output" accesskey="p" rel="prev">Number Input and Output</a>, Up: <a href="Internationalization.html#Internationalization" accesskey="u" rel="up">Internationalization</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html#Concept-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
